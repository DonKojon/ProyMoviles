<div class="container mt-5">

  <!-- Formulario para Añadir/Editar Rol -->
  <div class="card mb-4">
    <div class="card-header">
      <h2 *ngIf="!editingRole">Añadir Nuevo Rol</h2>
      <h2 *ngIf="editingRole">Editar Rol: {{ editingRole.name | titlecase }}</h2>
    </div>
    <div class="card-body">
      <form (ngSubmit)="onSubmit()" #roleForm="ngForm">
        <div class="mb-3">
          <label for="roleName" class="form-label">Nombre del Rol</label>
          <input type="text" class="form-control" id="roleName"
                 [ngModel]="editingRole ? editedRoleName : roleName"
                 (ngModelChange)="editingRole ? editedRoleName = $event : roleName = $event"
                 name="roleName" required>
        </div>
        <button type="submit" class="btn btn-primary" [disabled]="!roleForm.form.valid">
          {{ editingRole ? 'Guardar Cambios' : 'Añadir Rol' }}
        </button>
        <button type="button" class="btn btn-secondary ms-2" *ngIf="editingRole" (click)="cancelEdit()">
          Cancelar
        </button>
      </form>
    </div>
  </div>

  <!-- Lista de Roles -->
  <div class="card">
    <div class="card-header">
      <h3>Roles Existentes</h3>
    </div>
    <div class="card-body">
      <ul class="list-group">
        <li class="list-group-item d-flex justify-content-between align-items-center"
            *ngFor="let role of roles">
          {{ role.name | titlecase }}
          <div>
            <button class="btn btn-sm btn-info me-2" (click)="editRole(role)">Editar</button>
            <button class="btn btn-sm btn-danger" (click)="deleteRole(role.id)">Eliminar</button>
          </div>
        </li>
        <li class="list-group-item" *ngIf="roles.length === 0">No hay roles creados.</li>
      </ul>
    </div>
  </div>

</div>
